<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Morning Ritual - Votre Routine Quotidienne</title>
    
    <!-- PWA Configuration -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#5B8FA3">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Morning Ritual">
    
    <!-- iOS Icons -->
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 192 192'%3E%3Cdefs%3E%3ClinearGradient id='grad' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' style='stop-color:%23FFB89D;stop-opacity:1' /%3E%3Cstop offset='100%25' style='stop-color:%237FB3D5;stop-opacity:1' /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='192' height='192' rx='42' fill='url(%23grad)'/%3E%3Ctext x='96' y='130' font-size='80' text-anchor='middle' fill='white'%3E‚òÄÔ∏è%3C/text%3E%3C/svg%3E">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='80' font-size='80'%3E‚òÄÔ∏è%3C/text%3E%3C/svg%3E">
    
    <!-- Meta Description -->
    <meta name="description" content="Morning Ritual - Votre routine quotidienne personnalis√©e pour une vie plus saine. 10 minutes par jour pour transformer votre bien-√™tre.">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600&family=Inter:wght@300;400;500;600&display=swap');
        
        :root {
            --dawn-pink: #FF6B9D;
            --sunrise-orange: #FF8E53;
            --morning-blue: #4A90E2;
            --sky-blue: #5DADE2;
            --deep-blue: #3498DB;
            --text-dark: #E8E8E8;
            --text-light: #A0A0A0;
            --white: #1E1E1E;
            --card-bg: #2A2A2A;
            --background: #121212;
            --shadow-soft: rgba(0, 0, 0, 0.3);
            --shadow-medium: rgba(0, 0, 0, 0.5);
            --accent-glow: rgba(255, 142, 83, 0.15);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #0f0f23 100%);
            color: var(--text-dark);
            overflow-x: hidden;
            min-height: 100vh;
            padding-bottom: 90px;
        }
        
        /* iPhone Style Container */
        .phone-container {
            max-width: 430px;
            margin: 0 auto;
            background: var(--background);
            min-height: 100vh;
            box-shadow: 0 0 50px var(--shadow-medium);
        }
        
        /* Status Bar */
        .status-bar {
            height: 44px;
            background: transparent;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            font-size: 15px;
            font-weight: 500;
            color: var(--text-dark);
        }
        
        .time {
            font-weight: 600;
        }
        
        .status-icons {
            display: flex;
            gap: 8px;
            align-items: center;
        }
        
        /* Header */
        .header {
            padding: 20px 24px;
            background: linear-gradient(180deg, rgba(42, 42, 42, 0.8) 0%, transparent 100%);
        }
        
        .greeting {
            font-family: 'Cormorant Garamond', serif;
            font-size: 36px;
            font-weight: 300;
            color: var(--text-dark);
            margin-bottom: 4px;
            letter-spacing: -0.5px;
            text-align: center;
        }
        
        .date-info {
            font-size: 14px;
            color: var(--text-light);
            font-weight: 400;
            text-align: center;
        }
        
        /* Main Content */
        .content {
            padding: 0 24px 24px;
        }
        
        /* Daily Card */
        .daily-card {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 28px;
            margin-bottom: 20px;
            box-shadow: 0 8px 30px var(--shadow-soft), 0 0 40px var(--accent-glow);
            position: relative;
            overflow: hidden;
            animation: slideUp 0.6s ease-out;
            border: 1px solid rgba(255, 142, 83, 0.1);
        }
        
        .daily-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--sunrise-orange), var(--sky-blue));
        }
        
        .card-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            background: linear-gradient(135deg, var(--sunrise-orange), var(--morning-blue));
        }
        
        .card-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 24px;
            font-weight: 500;
            color: var(--text-dark);
            text-align: center;
        }
        
        .card-subtitle {
            font-size: 13px;
            color: var(--text-light);
            margin-top: 2px;
        }
        
        /* Weather & Context */
        .context-row {
            display: flex;
            gap: 12px;
            margin-bottom: 24px;
        }
        
        .context-chip {
            flex: 1;
            background: rgba(255, 142, 83, 0.08);
            padding: 12px 16px;
            border-radius: 12px;
            font-size: 13px;
            text-align: center;
            border: 1px solid rgba(255, 142, 83, 0.15);
        }
        
        .context-value {
            font-weight: 600;
            color: var(--sunrise-orange);
            display: block;
            margin-top: 4px;
        }
        
        /* Activity Section */
        .activity-section {
            margin-bottom: 20px;
        }
        
        .activity-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
            cursor: pointer;
            user-select: none;
            padding: 4px;
            border-radius: 8px;
            transition: background 0.2s ease;
        }
        
        .activity-header:hover {
            background: rgba(255, 142, 83, 0.05);
        }
        
        .activity-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid rgba(255, 142, 83, 0.4);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            flex-shrink: 0;
            margin-left: auto;
            order: 3;
        }
        
        .activity-checkbox.checked {
            background: linear-gradient(135deg, var(--sunrise-orange), var(--deep-blue));
            border-color: var(--sunrise-orange);
        }
        
        .activity-checkbox .checkmark {
            display: none;
            color: white;
            font-size: 14px;
            font-weight: bold;
        }
        
        .activity-checkbox.checked .checkmark {
            display: block;
        }
        
        .activity-icon {
            font-size: 20px;
        }
        
        .activity-title {
            font-weight: 600;
            font-size: 15px;
            color: var(--text-dark);
            order: 2;
        }
        
        .activity-duration {
            font-size: 13px;
            color: var(--text-light);
            background: rgba(255, 142, 83, 0.1);
            padding: 4px 12px;
            border-radius: 12px;
            margin-right: auto;
            order: 4;
        }
        
        .expand-icon {
            font-size: 16px;
            color: var(--text-light);
            transition: transform 0.3s ease;
            flex-shrink: 0;
            order: 5;
        }
        
        .activity-section.expanded .expand-icon {
            transform: rotate(180deg);
        }
        
        .activity-content {
            background: rgba(255, 142, 83, 0.05);
            padding: 16px;
            border-radius: 12px;
            font-size: 14px;
            line-height: 1.6;
            color: var(--text-dark);
            border: 1px solid rgba(255, 142, 83, 0.1);
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        .activity-section.expanded .activity-content {
            max-height: 500px;
            opacity: 1;
            margin-top: 12px;
        }
        
        /* Recommendation */
        .recommendation-section {
            margin-bottom: 20px;
        }
        
        .recommendation-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
            cursor: pointer;
            user-select: none;
            padding: 4px;
            border-radius: 8px;
            transition: background 0.2s ease;
        }
        
        .recommendation-header:hover {
            background: rgba(255, 142, 83, 0.05);
        }
        
        .recommendation-header .activity-title {
            order: 2;
        }
        
        .recommendation-header .expand-icon {
            margin-left: auto;
            order: 3;
        }
        
        .recommendation {
            background: linear-gradient(135deg, rgba(255, 107, 157, 0.15), rgba(77, 144, 226, 0.15));
            padding: 16px;
            border-radius: 12px;
            font-size: 14px;
            line-height: 1.6;
            color: var(--text-dark);
            font-weight: 400;
            border: 1px solid rgba(255, 142, 83, 0.2);
            max-height: 0;
            overflow: hidden;
            opacity: 0;
            transition: all 0.3s ease;
        }
        
        .recommendation-section.expanded .recommendation {
            max-height: 500px;
            opacity: 1;
            margin-top: 12px;
        }
        
        /* Action Buttons */
        .action-buttons {
            display: flex;
            gap: 12px;
            margin-top: 20px;
        }
        
        .btn {
            flex: 1;
            padding: 16px;
            border-radius: 16px;
            border: none;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--sunrise-orange), var(--deep-blue));
            color: white;
            box-shadow: 0 4px 15px rgba(255, 142, 83, 0.3);
        }
        
        .btn-primary:hover {
            box-shadow: 0 6px 20px rgba(255, 142, 83, 0.4);
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: rgba(255, 142, 83, 0.1);
            color: var(--text-dark);
            border: 1px solid rgba(255, 142, 83, 0.2);
        }
        
        .btn:active {
            transform: scale(0.96);
        }
        
        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }
        
        .stat-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 4px 12px var(--shadow-soft);
            border: 1px solid rgba(255, 142, 83, 0.1);
            text-align: center;
        }
        
        .stat-label {
            font-size: 12px;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
        }
        
        .stat-value {
            font-family: 'Cormorant Garamond', serif;
            font-size: 32px;
            font-weight: 600;
            color: var(--sunrise-orange);
        }
        
        .stat-change {
            font-size: 12px;
            color: var(--text-light);
            margin-top: 4px;
        }
        
        .positive {
            color: #10B981;
        }
        
        /* Progress Ring */
        .progress-ring {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 24px 0;
            position: relative;
        }
        
        .ring-svg {
            transform: rotate(-90deg);
        }
        
        .ring-bg {
            fill: none;
            stroke: rgba(255, 142, 83, 0.1);
            stroke-width: 8;
        }
        
        .ring-progress {
            fill: none;
            stroke: url(#gradient);
            stroke-width: 8;
            stroke-linecap: round;
            transition: stroke-dashoffset 1s ease;
        }
        
        .ring-center {
            position: absolute;
            text-align: center;
        }
        
        .ring-value {
            font-family: 'Cormorant Garamond', serif;
            font-size: 42px;
            font-weight: 600;
            color: var(--sunrise-orange);
        }
        
        .ring-label {
            font-size: 13px;
            color: var(--text-light);
            margin-top: -4px;
        }
        
        /* Chart */
        .chart-container {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 4px 12px var(--shadow-soft);
            margin-bottom: 20px;
            border: 1px solid rgba(255, 142, 83, 0.1);
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .chart-title {
            font-weight: 600;
            font-size: 16px;
            text-align: center;
            flex: 1;
        }
        
        .chart-period {
            display: flex;
            gap: 8px;
        }
        
        .period-btn {
            padding: 6px 12px;
            border-radius: 8px;
            border: none;
            background: transparent;
            color: var(--text-light);
            font-size: 13px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .period-btn.active {
            background: linear-gradient(135deg, var(--sunrise-orange), var(--deep-blue));
            color: var(--white);
        }
        
        .chart {
            display: flex;
            align-items: flex-end;
            justify-content: space-around;
            height: 150px;
            gap: 8px;
            padding: 0 4px;
        }
        
        .bar-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }
        
        .bar {
            width: 100%;
            background: linear-gradient(180deg, var(--sunrise-orange), var(--sky-blue));
            border-radius: 6px 6px 0 0;
            transition: all 0.6s ease;
            animation: growBar 1s ease-out;
        }
        
        .bar-label {
            font-size: 11px;
            color: var(--text-light);
        }
        
        /* Bottom Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            max-width: 430px;
            margin: 0 auto;
            background: var(--card-bg);
            padding: 12px 24px 28px;
            display: flex;
            justify-content: space-around;
            box-shadow: 0 -4px 20px var(--shadow-soft);
            border-radius: 24px 24px 0 0;
            border-top: 1px solid rgba(255, 142, 83, 0.1);
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
            padding: 8px 16px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: var(--text-light);
            text-decoration: none;
        }
        
        .nav-item.active {
            background: rgba(255, 142, 83, 0.15);
            color: var(--sunrise-orange);
        }
        
        .nav-icon {
            font-size: 24px;
        }
        
        .nav-label {
            font-size: 11px;
            font-weight: 500;
        }
        
        /* Animations */
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes growBar {
            from {
                height: 0;
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        
        /* Notification Style */
        .notification {
            position: fixed;
            top: 60px;
            left: 24px;
            right: 24px;
            max-width: 382px;
            margin: 0 auto;
            background: var(--card-bg);
            border-radius: 20px;
            padding: 20px;
            box-shadow: 0 10px 40px var(--shadow-medium);
            z-index: 1000;
            animation: slideDown 0.4s ease-out;
            display: none;
            border: 1px solid rgba(255, 142, 83, 0.2);
        }
        
        .notification.show {
            display: block;
        }
        
        @keyframes slideDown {
            from {
                transform: translateY(-100px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .notification-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
        }
        
        .app-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: linear-gradient(135deg, var(--sunrise-orange), var(--sky-blue));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }
        
        .notification-title {
            font-weight: 600;
            font-size: 15px;
        }
        
        .notification-time {
            margin-left: auto;
            font-size: 13px;
            color: var(--text-light);
        }
        
        .notification-body {
            font-size: 14px;
            line-height: 1.5;
            color: var(--text-dark);
        }
        
        /* Hidden screens */
        .screen {
            display: none;
            animation: fadeIn 0.3s ease;
        }
        
        .screen.active {
            display: block;
        }
        
        /* Comparison View */
        .comparison-card {
            background: var(--card-bg);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 4px 12px var(--shadow-soft);
            margin-bottom: 16px;
            border: 1px solid rgba(255, 142, 83, 0.1);
        }
        
        .comparison-header {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }
        
        .year-label {
            font-weight: 600;
            font-size: 18px;
            color: var(--sunrise-orange);
        }
        
        .comparison-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
        }
        
        .comparison-stat {
            text-align: center;
        }
        
        .comparison-value {
            font-family: 'Cormorant Garamond', serif;
            font-size: 28px;
            font-weight: 600;
            color: var(--text-dark);
        }
        
        .comparison-label {
            font-size: 11px;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 4px;
        }
    </style>
</head>
<body>
    <div class="phone-container">
        <!-- Status Bar -->
        <div class="status-bar">
            <span class="time" id="currentTime">9:41</span>
            <div class="status-icons">
                <span>üì∂</span>
                <span>üì°</span>
                <span>üîã</span>
            </div>
        </div>
        
        <!-- Notification (Hidden by default) -->
        <div class="notification" id="notification">
            <div class="notification-header">
                <div class="app-icon">‚òÄÔ∏è</div>
                <div>
                    <div class="notification-title">Morning Ritual</div>
                </div>
                <span class="notification-time">maintenant</span>
            </div>
            <div class="notification-body">
                Votre routine matinale est pr√™te ! Une journ√©e ensoleill√©e vous attend üå§Ô∏è
            </div>
        </div>
        
        <!-- Home Screen -->
        <div class="screen active" id="homeScreen">
            <!-- Header -->
            <div class="header">
                <h1 class="greeting" id="greeting">Bonjour</h1>
                <p class="date-info" id="dateInfo">Mardi 6 Janvier 2026</p>
            </div>
            
            <!-- Main Content -->
            <div class="content">
                <!-- Daily Recommendation Card -->
                <div class="daily-card">
                    <div class="card-header">
                        <div class="icon">‚òÄÔ∏è</div>
                        <div>
                            <h2 class="card-title">Votre Rituel du Jour</h2>
                            <p class="card-subtitle">Personnalis√© pour vous</p>
                        </div>
                    </div>
                    
                    <!-- Context -->
                    <div class="context-row">
                        <div class="context-chip">
                            <div>M√©t√©o</div>
                            <span class="context-value">18¬∞C ‚òÅÔ∏è</span>
                        </div>
                        <div class="context-chip">
                            <div>√âv√©nements</div>
                            <span class="context-value">3 r√©unions</span>
                        </div>
                        <div class="context-chip">
                            <div>Sommeil</div>
                            <span class="context-value">7h 30m</span>
                        </div>
                    </div>
                    
                    <!-- Sport Activity -->
                    <div class="activity-section" id="sportSection">
                        <div class="activity-header" onclick="toggleActivity('sport')">
                            <span class="activity-icon">üèÉ</span>
                            <span class="activity-title">Exercice</span>
                            <span class="activity-duration">5 min</span>
                            <div class="activity-checkbox" id="sportCheckbox" onclick="event.stopPropagation(); toggleCheckbox('sport')">
                                <span class="checkmark">‚úì</span>
                            </div>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <div class="activity-content">
                            <strong>√âchauffement dynamique</strong><br>
                            Parfait pour une journ√©e charg√©e : 10 jumping jacks, 10 squats, 20 mountain climbers, 10 pompes. Le temps est frais, id√©al pour activer votre circulation.
                        </div>
                    </div>
                    
                    <!-- Meditation Activity -->
                    <div class="activity-section" id="meditationSection">
                        <div class="activity-header" onclick="toggleActivity('meditation')">
                            <span class="activity-icon">üßò</span>
                            <span class="activity-title">M√©ditation</span>
                            <span class="activity-duration">5 min</span>
                            <div class="activity-checkbox" id="meditationCheckbox" onclick="event.stopPropagation(); toggleCheckbox('meditation')">
                                <span class="checkmark">‚úì</span>
                            </div>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <div class="activity-content">
                            <strong>Respiration consciente</strong><br>
                            Asseyez-vous confortablement. Inspirez profond√©ment pendant 4 secondes, retenez 4 secondes, expirez 6 secondes. R√©p√©tez en vous concentrant sur votre respiration et les sensations de votre corps.
                        </div>
                    </div>
                    
                    <!-- Daily Recommendation -->
                    <div class="recommendation-section" id="recommendationSection">
                        <div class="recommendation-header" onclick="toggleActivity('recommendation')">
                            <span class="activity-icon">üí°</span>
                            <span class="activity-title">Recommandation</span>
                            <span class="expand-icon">‚ñº</span>
                        </div>
                        <div class="recommendation">
                            Avec vos 3 r√©unions aujourd'hui et le temps nuageux, pr√©voyez des pauses courtes entre chaque rendez-vous. Hydratez-vous r√©guli√®rement. Profitez de votre d√©jeuner pour une marche de 15 minutes - cela compensera la journ√©e s√©dentaire.
                        </div>
                    </div>
                    
                    <!-- Action Buttons -->
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="completeRoutine()">‚úì Routine termin√©e</button>
                    </div>
                </div>
                
                <!-- Quick Stats -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">S√©rie Actuelle</div>
                        <div class="stat-value">12</div>
                        <div class="stat-change positive">‚Üë Record personnel !</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Ce Mois</div>
                        <div class="stat-value">6/6</div>
                        <div class="stat-change">100% de taux de compl√©tion</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Dashboard Screen -->
        <div class="screen" id="dashboardScreen">
            <div class="header">
                <h1 class="greeting">Tableau de Bord</h1>
                <p class="date-info">Vos progr√®s et statistiques</p>
            </div>
            
            <div class="content">
                <!-- Progress Ring with Period Selector -->
                <div class="daily-card">
                    <div class="chart-period" style="justify-content: center; margin-bottom: 20px;">
                        <button class="period-btn active" onclick="changePeriod('week')">Sem</button>
                        <button class="period-btn" onclick="changePeriod('month')">Mois</button>
                        <button class="period-btn" onclick="changePeriod('year')">Ann√©e</button>
                    </div>
                    <h3 class="card-title" style="margin-bottom: 16px;">Taux de Compl√©tion</h3>
                    <div class="progress-ring">
                        <svg class="ring-svg" width="200" height="200">
                            <defs>
                                <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" style="stop-color:#FFB89D;stop-opacity:1" />
                                    <stop offset="100%" style="stop-color:#7FB3D5;stop-opacity:1" />
                                </linearGradient>
                            </defs>
                            <circle class="ring-bg" cx="100" cy="100" r="80" />
                            <circle class="ring-progress" cx="100" cy="100" r="80" 
                                    stroke-dasharray="502.4" 
                                    stroke-dashoffset="70.3"
                                    id="progressCircle" />
                        </svg>
                        <div class="ring-center">
                            <div class="ring-value" id="completionRate">86%</div>
                            <div class="ring-label" id="completionPeriod">Cette semaine</div>
                        </div>
                    </div>
                </div>
                
                <!-- Activity Chart -->
                <div class="chart-container">
                    <h3 class="chart-title" style="margin-bottom: 20px;">Activit√©</h3>
                    <div class="chart" id="activityChart">
                        <div class="bar-container">
                            <div class="bar" style="height: 80%;"></div>
                            <span class="bar-label">Lun</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar" style="height: 100%;"></div>
                            <span class="bar-label">Mar</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar" style="height: 70%;"></div>
                            <span class="bar-label">Mer</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar" style="height: 90%;"></div>
                            <span class="bar-label">Jeu</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar" style="height: 60%;"></div>
                            <span class="bar-label">Ven</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar" style="height: 85%;"></div>
                            <span class="bar-label">Sam</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar" style="height: 95%;"></div>
                            <span class="bar-label">Dim</span>
                        </div>
                    </div>
                </div>
                
                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-label">Total 2026</div>
                        <div class="stat-value">6</div>
                        <div class="stat-change">jours compl√©t√©s</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label">Plus longue s√©rie</div>
                        <div class="stat-value">12</div>
                        <div class="stat-change">jours cons√©cutifs</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label" id="sportLabel">Sport</div>
                        <div class="stat-value" id="sportValue">30</div>
                        <div class="stat-change positive" id="sportPeriod">min cette semaine</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-label" id="meditationLabel">M√©ditation</div>
                        <div class="stat-value" id="meditationValue">30</div>
                        <div class="stat-change positive" id="meditationPeriod">min cette semaine</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Comparison Screen -->
        <div class="screen" id="comparisonScreen">
            <div class="header">
                <h1 class="greeting">Comparaison Annuelle</h1>
                <p class="date-info">Suivez votre √©volution</p>
            </div>
            
            <div class="content">
                <!-- 2026 Stats -->
                <div class="comparison-card">
                    <div class="comparison-header">
                        <span class="year-label">2026 (en cours)</span>
                        <span style="font-size: 24px;">üéØ</span>
                    </div>
                    <div class="comparison-stats">
                        <div class="comparison-stat">
                            <div class="comparison-value">6</div>
                            <div class="comparison-label">Jours</div>
                        </div>
                        <div class="comparison-stat">
                            <div class="comparison-value">100%</div>
                            <div class="comparison-label">Taux</div>
                        </div>
                        <div class="comparison-stat">
                            <div class="comparison-value">12</div>
                            <div class="comparison-label">S√©rie</div>
                        </div>
                    </div>
                </div>
                
                <!-- 2025 Stats -->
                <div class="comparison-card">
                    <div class="comparison-header">
                        <span class="year-label">2025</span>
                        <span style="font-size: 24px;">‚úÖ</span>
                    </div>
                    <div class="comparison-stats">
                        <div class="comparison-stat">
                            <div class="comparison-value">274</div>
                            <div class="comparison-label">Jours</div>
                        </div>
                        <div class="comparison-stat">
                            <div class="comparison-value">75%</div>
                            <div class="comparison-label">Taux</div>
                        </div>
                        <div class="comparison-stat">
                            <div class="comparison-value">45</div>
                            <div class="comparison-label">S√©rie max</div>
                        </div>
                    </div>
                </div>
                
                <!-- Insights -->
                <div class="daily-card">
                    <div class="card-header">
                        <div class="icon">üìä</div>
                        <div>
                            <h2 class="card-title">Insights</h2>
                            <p class="card-subtitle">Analyse de vos progr√®s</p>
                        </div>
                    </div>
                    
                    <div style="margin-top: 20px; font-size: 15px; line-height: 1.8;">
                        <p style="margin-bottom: 16px;">
                            <strong>Excellente progression ! üéâ</strong>
                        </p>
                        <p style="margin-bottom: 12px; color: var(--text-light);">
                            ‚Ä¢ Vous avez d√©j√† d√©pass√© votre d√©but 2025 (4 jours √† cette p√©riode)<br>
                            ‚Ä¢ Votre s√©rie actuelle de 12 jours est tr√®s prometteuse<br>
                            ‚Ä¢ Continuez ainsi pour battre votre record de 45 jours !
                        </p>
                        <p style="margin-top: 16px; padding: 16px; background: var(--background); border-radius: 12px; font-size: 14px;">
                            <strong>Objectif 2026 :</strong> Maintenir un taux de 80%+ pour d√©velopper des habitudes durables et am√©liorer votre bien-√™tre quotidien.
                        </p>
                    </div>
                </div>
                
                <!-- Monthly Breakdown -->
                <div class="chart-container">
                    <h3 class="chart-title" style="margin-bottom: 20px;">Comparaison Mensuelle</h3>
                    <div class="chart">
                        <div class="bar-container">
                            <div class="bar" style="height: 100%;"></div>
                            <span class="bar-label">Jan</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar" style="height: 45%; opacity: 0.3;"></div>
                            <span class="bar-label">F√©v</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar" style="height: 38%; opacity: 0.3;"></div>
                            <span class="bar-label">Mar</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar" style="height: 52%; opacity: 0.3;"></div>
                            <span class="bar-label">Avr</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar" style="height: 68%; opacity: 0.3;"></div>
                            <span class="bar-label">Mai</span>
                        </div>
                        <div class="bar-container">
                            <div class="bar" style="height: 85%; opacity: 0.3;"></div>
                            <span class="bar-label">Jun</span>
                        </div>
                    </div>
                    <p style="text-align: center; font-size: 12px; color: var(--text-light); margin-top: 12px;">
                        Comparaison avec 2025 (barres att√©nu√©es)
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Bottom Navigation -->
        <div class="bottom-nav">
            <a class="nav-item active" onclick="switchScreen('home')">
                <span class="nav-icon">‚òÄÔ∏è</span>
                <span class="nav-label">Aujourd'hui</span>
            </a>
            <a class="nav-item" onclick="switchScreen('dashboard')">
                <span class="nav-icon">üìä</span>
                <span class="nav-label">Progr√®s</span>
            </a>
            <a class="nav-item" onclick="switchScreen('comparison')">
                <span class="nav-icon">üìà</span>
                <span class="nav-label">Comparaison</span>
            </a>
        </div>
    </div>
    
    <script>
        // Initialize app
        function initApp() {
            updateTime();
            setInterval(updateTime, 1000);
            updateGreeting();
            
            // Show notification after 1 second
            setTimeout(() => {
                document.getElementById('notification').classList.add('show');
                setTimeout(() => {
                    document.getElementById('notification').classList.remove('show');
                }, 4000);
            }, 1000);
        }
        
        // Toggle activity section expand/collapse
        function toggleActivity(type) {
            const sections = {
                'sport': document.getElementById('sportSection'),
                'meditation': document.getElementById('meditationSection'),
                'recommendation': document.getElementById('recommendationSection')
            };
            
            const section = sections[type];
            if (section) {
                section.classList.toggle('expanded');
            }
        }
        
        // Toggle checkbox state
        function toggleCheckbox(type) {
            const checkboxes = {
                'sport': document.getElementById('sportCheckbox'),
                'meditation': document.getElementById('meditationCheckbox')
            };
            
            const checkbox = checkboxes[type];
            if (checkbox) {
                checkbox.classList.toggle('checked');
            }
        }
        
        // Change dashboard period (week, month, year)
        function changePeriod(period) {
            // Update active button
            document.querySelectorAll('.period-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            // Get all elements to update
            const completionRate = document.getElementById('completionRate');
            const completionPeriod = document.getElementById('completionPeriod');
            const activityChart = document.getElementById('activityChart');
            const progressCircle = document.getElementById('progressCircle');
            const sportValue = document.getElementById('sportValue');
            const sportPeriod = document.getElementById('sportPeriod');
            const meditationValue = document.getElementById('meditationValue');
            const meditationPeriod = document.getElementById('meditationPeriod');
            
            if (period === 'week') {
                // Weekly data (6/7 days = 86%)
                completionRate.textContent = '86%';
                completionPeriod.textContent = 'Cette semaine';
                progressCircle.style.strokeDashoffset = '70.3'; // 86% of 502.4
                
                // Sport & Meditation weekly
                sportValue.textContent = '30';
                sportPeriod.textContent = 'min cette semaine';
                meditationValue.textContent = '30';
                meditationPeriod.textContent = 'min cette semaine';
                
                // Weekly chart (7 days)
                activityChart.innerHTML = `
                    <div class="bar-container">
                        <div class="bar" style="height: 80%;"></div>
                        <span class="bar-label">Lun</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 100%;"></div>
                        <span class="bar-label">Mar</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 70%;"></div>
                        <span class="bar-label">Mer</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 90%;"></div>
                        <span class="bar-label">Jeu</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 60%;"></div>
                        <span class="bar-label">Ven</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 85%;"></div>
                        <span class="bar-label">Sam</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 95%;"></div>
                        <span class="bar-label">Dim</span>
                    </div>
                `;
            } else if (period === 'month') {
                // Monthly data (6/6 days = 100%)
                completionRate.textContent = '100%';
                completionPeriod.textContent = 'Ce mois';
                progressCircle.style.strokeDashoffset = '0'; // 100%
                
                // Sport & Meditation monthly
                sportValue.textContent = '30';
                sportPeriod.textContent = 'min ce mois';
                meditationValue.textContent = '30';
                meditationPeriod.textContent = 'min ce mois';
                
                // Monthly chart (6 days so far in January)
                activityChart.innerHTML = `
                    <div class="bar-container">
                        <div class="bar" style="height: 100%;"></div>
                        <span class="bar-label">1</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 100%;"></div>
                        <span class="bar-label">2</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 100%;"></div>
                        <span class="bar-label">3</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 100%;"></div>
                        <span class="bar-label">4</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 100%;"></div>
                        <span class="bar-label">5</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 100%;"></div>
                        <span class="bar-label">6</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 0%; opacity: 0.3;"></div>
                        <span class="bar-label">7</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 0%; opacity: 0.3;"></div>
                        <span class="bar-label">8</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 0%; opacity: 0.3;"></div>
                        <span class="bar-label">9</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 0%; opacity: 0.3;"></div>
                        <span class="bar-label">10</span>
                    </div>
                `;
            } else if (period === 'year') {
                // Yearly data (6/6 days = 100% so far in 2026)
                completionRate.textContent = '100%';
                completionPeriod.textContent = 'Cette ann√©e';
                progressCircle.style.strokeDashoffset = '0'; // 100%
                
                // Sport & Meditation yearly
                sportValue.textContent = '30';
                sportPeriod.textContent = 'min cette ann√©e';
                meditationValue.textContent = '30';
                meditationPeriod.textContent = 'min cette ann√©e';
                
                // Yearly chart (12 months - only January has data)
                activityChart.innerHTML = `
                    <div class="bar-container">
                        <div class="bar" style="height: 100%;"></div>
                        <span class="bar-label">Jan</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 0%; opacity: 0.3;"></div>
                        <span class="bar-label">F√©v</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 0%; opacity: 0.3;"></div>
                        <span class="bar-label">Mar</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 0%; opacity: 0.3;"></div>
                        <span class="bar-label">Avr</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 0%; opacity: 0.3;"></div>
                        <span class="bar-label">Mai</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 0%; opacity: 0.3;"></div>
                        <span class="bar-label">Jun</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 0%; opacity: 0.3;"></div>
                        <span class="bar-label">Jul</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 0%; opacity: 0.3;"></div>
                        <span class="bar-label">Ao√ª</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 0%; opacity: 0.3;"></div>
                        <span class="bar-label">Sep</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 0%; opacity: 0.3;"></div>
                        <span class="bar-label">Oct</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 0%; opacity: 0.3;"></div>
                        <span class="bar-label">Nov</span>
                    </div>
                    <div class="bar-container">
                        <div class="bar" style="height: 0%; opacity: 0.3;"></div>
                        <span class="bar-label">D√©c</span>
                    </div>
                `;
            }
        }
        
        // Update current time
        function updateTime() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            document.getElementById('currentTime').textContent = `${hours}:${minutes}`;
        }
        
        // Update greeting based on time
        function updateGreeting() {
            const hour = new Date().getHours();
            let greeting = 'Bonjour';
            
            if (hour < 12) greeting = 'Bonjour';
            else if (hour < 18) greeting = 'Petits pas, grands changements';
            else greeting = 'Bonsoir';
            
            document.getElementById('greeting').textContent = greeting;
            
            // Update date
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const dateStr = new Date().toLocaleDateString('fr-FR', options);
            document.getElementById('dateInfo').textContent = 
                dateStr.charAt(0).toUpperCase() + dateStr.slice(1);
        }
        
        // Switch between screens
        function switchScreen(screen) {
            // Hide all screens
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            
            // Show selected screen
            if (screen === 'home') {
                document.getElementById('homeScreen').classList.add('active');
            } else if (screen === 'dashboard') {
                document.getElementById('dashboardScreen').classList.add('active');
            } else if (screen === 'comparison') {
                document.getElementById('comparisonScreen').classList.add('active');
            }
            
            // Update nav items
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
        }
        
        // Complete routine
        function completeRoutine() {
            const sportChecked = document.getElementById('sportCheckbox').classList.contains('checked');
            const meditationChecked = document.getElementById('meditationCheckbox').classList.contains('checked');
            
            let message = 'üéâ Bravo ! Routine valid√©e pour aujourd\'hui.\n\n';
            
            if (sportChecked && meditationChecked) {
                message += '‚úì Exercice compl√©t√©\n‚úì M√©ditation compl√©t√©e\n\n';
                message += 'Vous avez gagn√© :\n‚Ä¢ +1 jour √† votre s√©rie\n‚Ä¢ Points d\'exp√©rience max\n‚Ä¢ Bien-√™tre optimal\n\nExcellent travail ! üí™';
            } else if (sportChecked || meditationChecked) {
                message += (sportChecked ? '‚úì Exercice compl√©t√©\n' : '‚óã Exercice non fait\n');
                message += (meditationChecked ? '‚úì M√©ditation compl√©t√©e\n' : '‚óã M√©ditation non faite\n');
                message += '\nVous avez gagn√© :\n‚Ä¢ +1 jour √† votre s√©rie\n‚Ä¢ Points d\'exp√©rience partiels\n\nBon d√©but ! Continuez ainsi üëç';
            } else {
                message += '‚óã Exercice non fait\n‚óã M√©ditation non faite\n\n';
                message += 'Journ√©e enregistr√©e.\nN\'oubliez pas que la r√©gularit√©\nest la cl√© du succ√®s ! üå±';
            }
            
            alert(message);
            
            // Visual feedback
            const btn = event.currentTarget;
            btn.textContent = '‚úì Valid√© !';
            btn.style.background = '#10B981';
            setTimeout(() => {
                btn.textContent = '‚úì Routine termin√©e';
                btn.style.background = '';
            }, 2000);
        }
        
        // Initialize on load
        window.onload = initApp;
        
        // ========== PWA Features ==========
        
        // Register Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then((registration) => {
                        console.log('‚úÖ Service Worker enregistr√©:', registration.scope);
                    })
                    .catch((error) => {
                        console.log('‚ùå Erreur Service Worker:', error);
                    });
            });
        }
        
        // Install Prompt
        let deferredPrompt;
        const installPromptShown = localStorage.getItem('installPromptShown');
        
        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;
            
            // Show install button after 3 seconds if not shown before
            if (!installPromptShown) {
                setTimeout(() => {
                    showInstallPrompt();
                }, 3000);
            }
        });
        
        function showInstallPrompt() {
            const installBanner = document.createElement('div');
            installBanner.style.cssText = `
                position: fixed;
                bottom: 100px;
                left: 24px;
                right: 24px;
                max-width: 382px;
                margin: 0 auto;
                background: linear-gradient(135deg, var(--sunrise-orange), var(--sky-blue));
                padding: 20px;
                border-radius: 20px;
                box-shadow: 0 10px 40px var(--shadow-medium);
                z-index: 1000;
                animation: slideUp 0.4s ease-out;
            `;
            
            installBanner.innerHTML = `
                <div style="display: flex; align-items: center; gap: 12px; margin-bottom: 12px;">
                    <div style="width: 40px; height: 40px; border-radius: 10px; background: white; display: flex; align-items: center; justify-content: center; font-size: 20px;">‚òÄÔ∏è</div>
                    <div style="flex: 1;">
                        <div style="font-weight: 600; font-size: 15px; color: white;">Installer Morning Ritual</div>
                        <div style="font-size: 13px; color: rgba(255,255,255,0.9); margin-top: 2px;">Acc√®s rapide √† votre routine quotidienne</div>
                    </div>
                </div>
                <div style="display: flex; gap: 8px; margin-top: 16px;">
                    <button id="installBtn" style="flex: 1; padding: 12px; border-radius: 12px; border: none; background: white; color: var(--deep-blue); font-weight: 600; font-size: 14px; cursor: pointer;">Installer</button>
                    <button id="dismissBtn" style="padding: 12px 16px; border-radius: 12px; border: none; background: rgba(255,255,255,0.2); color: white; font-weight: 600; font-size: 14px; cursor: pointer;">Plus tard</button>
                </div>
            `;
            
            document.body.appendChild(installBanner);
            
            document.getElementById('installBtn').addEventListener('click', async () => {
                if (deferredPrompt) {
                    deferredPrompt.prompt();
                    const { outcome } = await deferredPrompt.userChoice;
                    console.log(`Installation: ${outcome}`);
                    deferredPrompt = null;
                }
                installBanner.remove();
                localStorage.setItem('installPromptShown', 'true');
            });
            
            document.getElementById('dismissBtn').addEventListener('click', () => {
                installBanner.remove();
                localStorage.setItem('installPromptShown', 'true');
            });
        }
        
        // Handle app install
        window.addEventListener('appinstalled', () => {
            console.log('‚úÖ PWA install√©e avec succ√®s !');
            deferredPrompt = null;
        });
        
        // Request notification permission
        function requestNotificationPermission() {
            if ('Notification' in window && Notification.permission === 'default') {
                setTimeout(() => {
                    if (confirm('Autoriser les notifications pour recevoir votre routine matinale quotidienne ?')) {
                        Notification.requestPermission().then(permission => {
                            if (permission === 'granted') {
                                console.log('‚úÖ Notifications autoris√©es');
                                scheduleNotification();
                            }
                        });
                    }
                }, 5000);
            }
        }
        
        // Schedule daily notification (demo)
        function scheduleNotification() {
            // In production, this would be handled by the backend
            // For demo, show notification after 10 seconds
            setTimeout(() => {
                if (Notification.permission === 'granted') {
                    new Notification('Morning Ritual üåÖ', {
                        body: 'Votre routine matinale est pr√™te ! Commencez votre journ√©e du bon pied.',
                        icon: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 192 192"%3E%3Cdefs%3E%3ClinearGradient id="grad" x1="0%25" y1="0%25" x2="100%25" y2="100%25"%3E%3Cstop offset="0%25" style="stop-color:%23FFB89D;stop-opacity:1" /%3E%3Cstop offset="100%25" style="stop-color:%237FB3D5;stop-opacity:1" /%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width="192" height="192" rx="42" fill="url(%23grad)"/%3E%3Ctext x="96" y="130" font-size="80" text-anchor="middle" fill="white"%3E‚òÄÔ∏è%3C/text%3E%3C/svg%3E',
                        badge: 'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96"%3E%3Ctext x="48" y="70" font-size="60" text-anchor="middle"%3E‚òÄÔ∏è%3C/text%3E%3C/svg%3E',
                        vibrate: [200, 100, 200],
                        tag: 'morning-routine'
                    });
                }
            }, 10000);
        }
        
        // Request notification permission after user interaction
        setTimeout(requestNotificationPermission, 2000);
    </script>
</body>
</html>
